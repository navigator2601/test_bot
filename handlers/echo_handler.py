# handlers/echo_handler.py

import logging
import random # <<-- Ð”ÐžÐ”ÐÐÐž Ð†ÐœÐŸÐžÐ Ð¢ random
from aiogram import Router, types

logger = logging.getLogger(__name__)
router = Router()

# Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð²Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ð¸Ñ… Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÐµÐ¹
RANDOM_RESPONSES = [
    "ðŸ§Š Refridex OS: Ð¤ÑƒÐ½ÐºÑ†Ñ–ÑŽ Ð½Ðµ Ð°ÐºÑ‚Ð¸Ð²Ð¾Ð²Ð°Ð½Ð¾. ÐžÑ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ Ð¼Ð¾Ð´ÑƒÐ»ÑŒÐ½Ðµ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ.",
    "âš ï¸ Refridex OS: ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð°. Ð”Ñ–Ñ—... Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð±Ð°Ñ‡ÐµÐ½Ñ–.",
    "ðŸ“¡ Refridex OS: Ð¥Ð¼... Ð¦ÐµÐ¹ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ñ‰Ðµ Ð½Ðµ Ð´Ð¾Ð¿Ð°ÑÐ½Ð¸Ð¹.",
    "ðŸª› Refridex OS: Ð’Ð¸Ð±Ð°Ñ‡, Ñ†Ñ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ Ð·Ð°Ñ€Ð°Ð· Ñƒ Ñ€ÐµÐ¶Ð¸Ð¼Ñ– ÑÐ°Ð¼Ð¾Ñ€Ð¾Ð·Ð´ÑƒÐ¼Ñ–Ð².",
    "ðŸ‘ï¸ Refridex OS: Ð¢Ð¸ Ñ†Ðµ Ð½Ð°Ñ‚Ð¸ÑÐ½ÑƒÐ² ÑÐµÑ€Ð¹Ð¾Ð·Ð½Ð¾? ÐÑƒ Ð´Ð¾Ð±Ñ€Ðµ... Ð°Ð»Ðµ Ð½Ñ–.",
    "ðŸ”§ Refridex OS: ÐœÐ¾Ð½Ñ‚Ð°Ð¶ Ð»Ð¾Ð³Ñ–ÐºÐ¸ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–. ÐŸÐ¾Ð²ÐµÑ€Ð½Ð¸ÑÑŒ Ð¿Ñ–Ð·Ð½Ñ–ÑˆÐµ.",
    "ðŸ“ Refridex OS: ÐœÐ¾Ð´ÑƒÐ»ÑŒ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾. Ð—Ð¼Ñ–ÑÑ‚: â€œÐ² Ñ€Ð¾Ð·Ñ€Ð¾Ð±Ñ†Ñ–â€.",
    "ðŸ’¤ Refridex OS: Ð¦ÐµÐ¹ ÑÐµÐºÑ‚Ð¾Ñ€ Ñ‰Ðµ ÑÐ¿Ð¸Ñ‚ÑŒ. ÐÐµ Ð±ÑƒÐ´Ð¸, Ð° Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ.",
    "ðŸ§  Refridex OS: Ð“ÐµÐ½ÐµÑ€ÑƒÑŽ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒâ€¦ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ°: ÑƒÑÐ²Ð° Ð½Ðµ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°.",
    "ðŸ¤– Refridex OS: Ð’Ð°ÑˆÐ° Ð´Ñ–Ñ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ð°. ÐÑ–Ñ‡Ð¾Ð³Ð¾ Ð½Ðµ ÑÑ‚Ð°Ð»Ð¾ÑÑ.",
    "ðŸ”„ Refridex OS: ÐžÐ±Ñ€Ð¾Ð±ÐºÐ° Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ... Ð·Ð°Ð²Ð¸ÑÐ»Ð° Ñƒ Ñ„Ñ€ÐµÐ¾Ð½Ð¾Ð²Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ€Ñ–.",
    "â›” Refridex OS: Ð¦ÐµÐ¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¸Ð¹ Ð¿ÑƒÐ½ÐºÑ‚ Ñ‰Ðµ Ð¿Ñ–Ð´ Ð·Ð°Ñ…Ð¸ÑÑ‚Ð¾Ð¼ Ð¼Ð¾Ð½Ñ‚Ð°Ð¶Ð½Ð¾Ñ— Ð¿Ð»Ñ–Ð²ÐºÐ¸.",
    "ðŸ›°ï¸ Refridex OS: Ð¡Ð¸Ð³Ð½Ð°Ð» Ð²Ñ–Ð´ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾. ÐÐ»Ðµ ÐºÐ¾ÑÐ¼Ð¾Ñ Ð¼Ð¾Ð²Ñ‡Ð¸Ñ‚ÑŒ.",
    "ðŸ“¦ Refridex OS: Ð¤ÑƒÐ½ÐºÑ†Ñ–Ñ Ñ‰Ðµ Ð½Ð° ÑÐºÐ»Ð°Ð´Ñ–. ÐžÑ‡Ñ–ÐºÑƒÑ” Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð· ÐšÐ¾Ð¼Ð¿Ñ€ÐµÑÐ¾Ð³Ñ€Ð°Ð´Ð°.",
    "ðŸ•¹ï¸ Refridex OS: Ð¢ÐµÑ…Ð½Ð¾Ð¿Ñ€Ð¾Ñ†ÐµÑ Ð½Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾. Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ Ð½Ð°Ñ‚Ð¸ÑÐ½ÑƒÑ‚Ð¸... Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¶Ð½Ñ.",
    "âš™ï¸ Refridex OS: Ð¦ÐµÐ¹ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð» Ð¿Ð¾ÐºÐ¸ Ð»Ð¸Ñˆ Ñƒ ÐºÑ€ÐµÑÐ»ÐµÐ½Ð½ÑÑ…. Ð† Ñ‚Ð¾ â€” Ð¾Ð»Ñ–Ð²Ñ†ÐµÐ¼.",
    "ðŸ§¯ Refridex OS: ÐÐµ Ñ‚Ð¸ÑÐ½Ð¸ ÑÑŽÐ´Ð¸. Ð¢ÑƒÑ‚ Ñ‰Ðµ Ð½Ð°Ð²Ñ–Ñ‚ÑŒ Ñ„Ñ€ÐµÐ¾Ð½ Ð½Ðµ Ð¿Ñ–Ð´Ð²ÐµÐ´ÐµÐ½Ð¾.",
    "ðŸ“ Refridex OS: Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ñƒ Ð·Ð°Ñ„Ñ–ÐºÑÐ¾Ð²Ð°Ð½Ð°. Ð’Ð¸Ñ…Ð¾Ð´Ñƒ Ð¿Ð¾ÐºÐ¸ Ð½ÐµÐ¼Ð°Ñ”.",
    "ðŸ” Refridex OS: Ð¡ÐºÐ°Ð½ÑƒÑŽ... ÐÑ–Ñ‡Ð¾Ð³Ð¾ ÐºÐ¾Ñ€Ð¸ÑÐ½Ð¾Ð³Ð¾. ÐŸÐ¾Ð²ÐµÑ€Ð½Ð¸ÑÑŒ Ð¿Ñ–Ð·Ð½Ñ–ÑˆÐµ.",
    "ðŸ‘¾ Refridex OS: Ð¢ÑƒÑ‚ Ð¼Ð°Ð»Ð° Ð±ÑƒÑ‚Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ, Ð°Ð»Ðµ Ñ—Ñ— Ð²Ð¸ÐºÑ€Ð°Ð² Ð±Ð°Ò‘.",
    "ðŸ“¡ Refridex OS: ÐŸÑ€Ð¾Ð±ÑƒÑŽ Ð·Ð²â€™ÑÐ·Ð°Ñ‚Ð¸ÑÑ Ð· Ð¼Ð°Ð¹Ð±ÑƒÑ‚Ð½Ñ–Ð¼â€¦ Ð’Ð¾Ð½Ð¸ Ñ‰Ðµ Ð½Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ñ–.",
    "ðŸ’¿ Refridex OS: ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð·Ñ‡Ð¸Ñ‚Ð°Ð½Ð°. ÐÐ»Ðµ Ð´Ð¸ÑÐº Ñ‰Ðµ Ð½Ðµ Ð²ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹.",
    "ðŸ›¸ Refridex OS: Ð¢ÐµÑ…Ð½Ð¾-Ð¼Ð°Ð³ Ñ€Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ¸ Ð¿Ñ–ÑˆÐ¾Ð² Ñƒ Ð²Ñ–Ð´Ð¿ÑƒÑÑ‚ÐºÑƒ.",
    "ðŸš§ Refridex OS: ÐœÐ¾Ð½Ñ‚Ð°Ð¶ Ñƒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–. ÐÐµ Ð·Ð°Ð±ÑƒÐ´ÑŒ ÑˆÐ¾Ð»Ð¾Ð¼.",
    "ðŸ” Refridex OS: Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð¾Ð±Ð¼ÐµÐ¶ÐµÐ½Ð¾. ÐšÐ¾Ð´ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ñ–Ñ—: \"Ñ‚ÐµÑ€Ð¿Ñ–Ð½Ð½Ñ\".",
    "ðŸ§Š Refridex OS: Ð¤ÑƒÐ½ÐºÑ†Ñ–Ñ Ð·Ð°Ð¼Ð¾Ñ€Ð¾Ð¶ÐµÐ½Ð°. Ð Ð¾Ð·Ð¼Ð¾Ñ€Ð¾Ð·ÐºÐ° Ð¿Ñ–ÑÐ»Ñ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ.",
    "ðŸ’¡ Refridex OS: Ð¡Ð²Ñ–Ñ‚Ð»Ð¾ Ð² Ñ‚ÑƒÐ½ÐµÐ»Ñ– Ñ”. ÐÐ»Ðµ Ñ‰Ðµ Ð½Ðµ Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ðµ.",
    "ðŸ“ˆ Refridex OS: Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ñ†Ñ–Ñ”Ñ— Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ð¿Ñ–ÑˆÐ»Ð° Ð² â€œÐ´Ð¾Ð²Ð³Ð¸Ð¹ Ð¼Ð¾Ð½Ñ‚Ð°Ð¶â€.",
    "ðŸŒŒ Refridex OS: ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð²Ð¸Ð¹ÑˆÐ»Ð° Ð·Ð° Ð¼ÐµÐ¶Ñ– Ð´Ð¾Ð·Ð²Ð¾Ð»ÐµÐ½Ð¾Ð³Ð¾ ÐšÐ¾Ð½Ð´Ð¸-Ð»Ð°Ð½Ð´Ð¾Ð¼.",
    "ðŸ§ª Refridex OS: ÐŸÑ€Ð¾Ñ‚Ð¾Ñ‚Ð¸Ð¿ Ñ†Ñ–Ñ”Ñ— Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ñ‰Ðµ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¸ Ð½Ð° Ð²Ð¸Ñ‚Ñ–Ðº.",
    "ðŸ§¬ Refridex OS: *404: Ð›Ð¾Ð³Ñ–ÐºÐ° Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð°. ÐÐ»Ðµ Ð²Ð¸Ð³Ð»ÑÐ´Ð°Ñ” ÐºÑ€ÑƒÑ‚Ð¾.*",
    "ðŸŒ€ Refridex OS: Ð¡Ð¿Ñ€Ð¾Ð±Ð° Ð°ÐºÑ‚Ð¸Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð·Ð°Ð±Ð¾Ñ€Ð¾Ð½ÐµÐ½Ñƒ Ð·Ð¾Ð½Ñƒ. ÐŸÐ¾Ð²ÐµÑ€Ð½ÐµÐ½Ð½Ñ Ñƒ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŒ...",
    "ðŸ§˜ Refridex OS: Ð¦Ñ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ Ð¼ÐµÐ´Ð¸Ñ‚ÑƒÑ”. ÐÐµ Ñ‚ÑƒÑ€Ð±ÑƒÐ²Ð°Ñ‚Ð¸.",
    "ðŸ”„ Refridex OS: Ð¡Ñ‚Ð²Ð¾Ñ€ÑŽÑŽ Ñ–Ð»ÑŽÐ·Ñ–ÑŽ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸... Ð“Ð¾Ñ‚Ð¾Ð²Ð¾.",
    "ðŸŽ›ï¸ Refridex OS: ÐšÐ½Ð¾Ð¿ÐºÐ° Ð°ÐºÑ‚Ð¸Ð²Ð½Ð°. ÐÐ»Ðµ Ð½Ðµ Ð´Ð»Ñ Ñ‚ÐµÐ±Ðµ... Ñ‰Ðµ.",
]

@router.message()
async def echo_all_messages(message: types.Message):
    user_id = message.from_user.id
    user_name = message.from_user.full_name
    logger.info(f"ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾ Ð½ÐµÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ðµ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð²Ñ–Ð´ {user_name} (ID: {user_id}): {message.text}")
    
    # Ð’Ð¸Ð±Ð¸Ñ€Ð°Ñ”Ð¼Ð¾ Ð²Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ñƒ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ Ð·Ñ– ÑÐ¿Ð¸ÑÐºÑƒ
    response_text = random.choice(RANDOM_RESPONSES)
    
    try:
        await message.answer(response_text) # <<-- Ð—ÐœÐ†ÐÐ Ð¢Ð£Ð¢: Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð»ÑÑ”Ð¼Ð¾ Ð²Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ñƒ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ
    except Exception as e: # Ð—Ð¼Ñ–Ð½ÐµÐ½Ð¾ TypeÐ•rror Ð½Ð° Ð·Ð°Ð³Ð°Ð»ÑŒÐ½Ð¸Ð¹ Exception, ÑÐºÑ‰Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ÑŒ Ñ–Ð½ÑˆÑ– Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð¸
        logger.error(f"ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²Ñ†Ñ– Ð²Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ð¾Ñ— Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ñ– ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ñƒ {user_id}: {e}", exc_info=True)
        await message.answer("Ð’Ð¸Ð½Ð¸ÐºÐ»Ð° Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±Ñ€Ð¾Ð±Ñ†Ñ– Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ.")